knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
install.packages("tidyverse")
library(tidyverse)
library(tidyverse)
install.packages('lubridate')
knitr::opts_chunk$set(echo = TRUE)
# Load data
md_grant_loans <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022.csv")
# Display it
md_grant_loans
View(md_grant_loans)
View(md_grant_loans)
# Now let's try and group and count the number of expenditures by recipient. To make it a bit more manageable, let's use another string function from `stringr` and filter for recipients that start with the uppercase "W" or lowercase "w" using the function `str_detect()` with a regular expression.
# The filter function in the codeblock below says: look in the Grantee column, and pluck out any value that starts with (the "^" symbol means "starts with") a lowercase "w" OR (the vertical "|", called a pipe, means OR) an uppercase "W".
md_grant_loans |>
group_by(Grantee) |>
summarise(
count=n()
) |>
filter(str_detect(Grantee, '^w|^W')) |>
arrange(Grantee)
cleaned_md_grant_loans <- md_grant_loans |>
mutate(grantee_clean=key_collision_merge(Grantee)) |>
select(Grantee, grantee_clean, everything())
# turn off sci notation
options(scipen=999)
library(tidyverse)
library(lubridate)
library(refinr)
cleaned_md_grant_loans <- md_grant_loans |>
mutate(grantee_clean=key_collision_merge(Grantee)) |>
select(Grantee, grantee_clean, everything())
cleaned_md_grant_loans
cleaned_md_grant_loans |>
group_by(Grantee, grantee_clean) |>
summarise(
count=n()
) |>
filter(str_detect(Grantee, '^w|^W')) |>
arrange(Grantee)
cleaned_md_grant_loans <- md_grant_loans |>
mutate(grantee_clean=n_gram_merge(Grantee)) |>
select(Grantee, grantee_clean, everything())
cleaned_md_grant_loans
cleaned_md_grant_loans |>
group_by(Grantee, grantee_clean) |>
summarise(
count=n()
) |>
filter(str_detect(Grantee, '^w|^W')) |>
arrange(Grantee)
# Now let's try and group and count the number of expenditures by recipient. To make it a bit more manageable, let's use another string function from `stringr` and filter for recipients that start with the uppercase "W" or lowercase "w" using the function `str_detect()` with a regular expression.
# The filter function in the codeblock below says: look in the Grantee column, and pluck out any value that starts with (the "^" symbol means "starts with") a lowercase "w" OR (the vertical "|", called a pipe, means OR) an uppercase "W".
md_grant_loans |>
group_by(Grantee) |>
summarise(
count=n()
) |>
filter(str_detect(Grantee, '^w|^W')) |>
arrange(Grantee)
cleaned_md_grant_loans <- md_grant_loans |>
mutate(grantee_clean=key_collision_merge(Grantee)) |>
select(Grantee, grantee_clean, everything())
cleaned_md_grant_loans
cleaned_md_grant_loans <- md_grant_loans |>
mutate(grantee_clean=key_collision_merge(Grantee)) |>
select(Grantee, grantee_clean, everything())
arrange(grantee_clean)
cleaned_md_grant_loans <- md_grant_loans |>
mutate(grantee_clean=key_collision_merge(Grantee)) |>
select(Grantee, grantee_clean, everything())
arrange(grantee)
cleaned_md_grant_loans <- md_grant_loans |>
mutate(grantee_clean=key_collision_merge(Grantee)) |>
select(Grantee, grantee_clean, everything())
cleaned_md_grant_loans
cleaned_md_grant_loans |>
group_by(Grantee, grantee_clean) |>
summarise(
count=n()
) |>
filter(str_detect(Grantee, '^w|^W')) |>
arrange(Grantee)
setwd("~/Google Drive/My Drive/JOUR472")
read.csv(fatal-police-shootings-data.csv)
read.csv("fatal-police-shootings-data.csv")
read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings %>%
group_by(gender)
read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings %>%
group_by(gender)
read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings |>
group_by(gender)
read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings %>%
group_by(gender)
read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings %>%
group_by(gender) %>%
summarize(count = n()) |>
arrange(desc(count))
read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings %>%
group_by(gender) %>%
summarize(count = n()) %>%
arrange(desc(count))
read.csv("fatal-police-shootings-data.csv")
setwd("~/Google Drive/My Drive/JOUR472/data_journalism_2023_fall/reverse engineering/Reverse-Engineering-Project")
read.csv("fatal-police-shootings-data.csv")
library(tidyverse)
library(lubridate)
library(janitor)
read.csv("fatal-police-shootings-data.csv")
read_csv("fatal-police-shootings-data.csv")
library(tidyverse)
library(lubridate)
library(janitor)
read_csv("fatal-police-shootings-data.csv")
read_csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings %>%
group_by(gender)
read_csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
fatal_police_shootings %>%
filter(str_detect(gender, "female"))
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
read_csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
women_fatal_police shootings <- fatal_police_shootings %>%
women_fatal_police_shootings <- fatal_police_shootings %>%
filter(str_detect(gender, "female"))
View(women_fatal_police_shootings)
View(fatal_police_shootings)
read_csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
women_fatal_police_shootings <- fatal_police_shootings %>%
filter(str_detect(gender, "female")) %>%
summarize(count = n())
read_csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
women_fatal_police_shootings <- fatal_police_shootings %>%
filter(str_detect(gender, "female"))
count_women_police_shootings <- women_fatal_police_shootings %>%
summarize(count = n())
women_2020_fatal_police_shootings <- women_fatal_police_shootings %>%
mutate (
date=mdy(date)
)
women_2020_fatal_police_shootings <- women_fatal_police_shootings
women_2020_fatal_police_shootings <- women_2020_fatal_police_shootings %>%
mutate(expenditure_date=mdy(expenditure_date))
women_2020_fatal_police_shootings <- women_2020_fatal_police_shootings %>%
mutate(date=mdy(date))
knitr::opts_chunk$set(echo = TRUE)
# Load the Maryland expenditures data table
## install.packages("janitor")
library(janitor)
maryland_expenses <- read_csv("data/maryland_expenses.csv")
maryland_expenses
cleaned_maryland_expenses <- maryland_expenses %>%
clean_names()
cleaned_maryland_expenses
cleaned_maryland_expenses <- cleaned_maryland_expenses %>%
mutate(expenditure_date=mdy(expenditure_date))
cleaned_maryland_expenses
View(cleaned_maryland_expenses)
cleaned_maryland_expenses <- maryland_expenses %>%
clean_names()
cleaned_maryland_expenses
cleaned_maryland_expenses <- maryland_expenses %>%
clean_names()
cleaned_maryland_expenses
colnames(cleaned_maryland_expenses) <- c(date_of_expenditure)
colnames(cleaned_maryland_expenses) <- c("date_of_expenditure")
cleaned_maryland_expenses <- cleaned_maryland_expenses %>%
mutate(date_of_expenditure=mdy(date_of_expenditure))
maryland_expenses <- read_csv("data/maryland_expenses.csv")
maryland_expenses
cleaned_maryland_expenses <- maryland_expenses %>%
clean_names()
library(tidyverse)
library(lubridate)
library(janitor)
```
library(tidyverse)
library(lubridate)
library(janitor)
read_csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
women_fatal_police_shootings <- fatal_police_shootings %>%
filter(str_detect(gender, "female"))
count_women_police_shootings <- women_fatal_police_shootings %>%
summarize(count = n())
clean_count_women_police_shootings <- count_women_police_shootings %>%
clean_names()
clean_2020_count_women_police_shootings %>%
colnames(clean_2020_count_women_police_shootings) <- c("date_of_expenditure")
clean_count_women_police_shootings <- count_women_police_shootings %>%
clean_names()
read_csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
women_fatal_police_shootings <- fatal_police_shootings %>%
filter(str_detect(gender, "female"))
count_women_police_shootings <- women_fatal_police_shootings %>%
summarize(count = n())
## cleaning the column names so I won't have trouble later on
clean_count_women_police_shootings <- count_women_police_shootings %>%
clean_names()
colnames(clean_2020_count_women_police_shootings) <- c("date_of_expenditure")
colnames(clean_count_women_police_shootings) <- c("date_of_expenditure")
clean_2020_count_women_police_shootings <- clean_count_women_police_shootings
colnames(clean_2020_count_women_police_shootings) <- c("date_of_expenditure")
View(clean_2020_count_women_police_shootings)
clean_2020_count_women_police_shootings <- clean_count_women_police_shootings
View(clean_2020_count_women_police_shootings)
View(clean_count_women_police_shootings)
read_csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
women_fatal_police_shootings <- fatal_police_shootings %>%
filter(str_detect(gender, "female"))
count_women_police_shootings <- women_fatal_police_shootings %>%
summarize(count = n())
## cleaning the column names so I won't have trouble later on
clean_count_women_police_shootings <- count_women_police_shootings %>%
clean_names()
clean_women_police_shootings <- women_police_shootings %>%
clean_names()
clean_fatal_women_police_shootings <- women_fatal_police_shootings %>%
clean_names()
View(clean_fatal_women_police_shootings)
library(tidyverse)
library(lubridate)
library(janitor)
read_csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
women_fatal_police_shootings <- fatal_police_shootings %>%
filter(str_detect(gender, "female"))
count_women_police_shootings <- women_fatal_police_shootings %>%
summarize(count = n())
## cleaning the column names so I won't have trouble later on
clean_women_fatal_police_shootings <- women_fatal_police_shootings %>%
clean_names()
women_2020_fatal_police_shootings <- women_2020_fatal_police_shootings %>%
mutate(date=mdy(date))
clean_2020_women_fatal_police_shootings <- clean_women_fatal_police_shootings
women_2020_fatal_police_shootings <- women_2020_fatal_police_shootings %>%
mutate(date=mdy(date))
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
mutate(date=mdy(date))
View(clean_2020_women_fatal_police_shootings)
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
mutate(date=ymd(date))
View(clean_2020_women_fatal_police_shootings)
add_column(add_column = "new_column")
cleaned_maryland_expenses <- cleaned_maryland_expenses %>%
add_column(add_column = "new_column")
maryland_expenses <- read_csv("data/maryland_expenses.csv")
maryland_expenses
cleaned_maryland_expenses <- maryland_expenses %>%
clean_names()
cleaned_maryland_expenses
cleaned_maryland_expenses <- cleaned_maryland_expenses %>%
add_column(add_column = "new_column")
View(cleaned_maryland_expenses)
cleaned_maryland_expenses <- cleaned_maryland_expenses %>%
add_column(add_column)
cleaned_maryland_expenses <- cleaned_maryland_expenses %>%
add_column(new_column)
add_column (
.cleaned_maryland_expenses
)
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
mutate(date=ymd(date))
clean_2020_women_fatal_police_shootings %>%
filter(date<"2020-01-01")
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
mutate(date=ymd(date))
clean_2020_women_fatal_police_shootings %>%
filter(date<"2020-09-04")
read_csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
women_fatal_police_shootings <- fatal_police_shootings %>%
filter(str_detect(gender, "female"))
count_women_police_shootings <- women_fatal_police_shootings %>%
summarize(count = n())
## cleaning the column names so I won't have trouble later on
clean_women_fatal_police_shootings <- women_fatal_police_shootings %>%
clean_names()
clean_2020_women_fatal_police_shootings <- clean_women_fatal_police_shootings
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
mutate(date=ymd(date))
clean_2020_women_fatal_police_shootings %>%
filter(date<"2020-09-04")
View(clean_2020_women_fatal_police_shootings)
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
mutate(date=ymd(date))
read_csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
women_fatal_police_shootings <- fatal_police_shootings %>%
filter(str_detect(gender, "female"))
count_women_police_shootings <- women_fatal_police_shootings %>%
summarize(count = n())
## cleaning the column names so I won't have trouble later on
clean_women_fatal_police_shootings <- women_fatal_police_shootings %>%
clean_names()
clean_2020_women_fatal_police_shootings <- clean_women_fatal_police_shootings
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
mutate(date=ymd(date))
clean_2020_women_fatal_police_shootings <- clean_women_fatal_police_shootings
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
mutate(date=mdy(date))
clean_2020_women_fatal_police_shootings %>%
filter(date<"2020-09-04")
clean_2020_women_fatal_police_shootings %>%
filter(date<"2020-09-04")
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
filter(date<"2020-09-04")
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
filter(date<"2020-09-04") %>%
summarize(count = n())
clean_2020_women_fatal_police_shootings
View(clean_women_fatal_police_shootings)
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
filter(date<"2020-09-03") %>%
summarize(count = n())
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
filter(date<"2020-09-04") %>%
summarize(count = n())
library(tidyverse)
library(lubridate)
library(janitor)
read_csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
women_fatal_police_shootings <- fatal_police_shootings %>%
filter(str_detect(gender, "female"))
count_women_police_shootings <- women_fatal_police_shootings %>%
summarize(count = n())
## cleaning the column names so I won't have trouble later on
clean_women_fatal_police_shootings <- women_fatal_police_shootings %>%
clean_names()
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
filter(date<"2020-09-04") %>%
summarize(count = n())
library(tidyverse)
library(lubridate)
library(janitor)
read_csv("fatal-police-shootings-data.csv")
fatal_police_shootings <- read.csv("fatal-police-shootings-data.csv")
women_fatal_police_shootings <- fatal_police_shootings %>%
filter(str_detect(gender, "female"))
count_women_police_shootings <- women_fatal_police_shootings %>%
summarize(count = n())
## cleaning the column names so I won't have trouble later on
clean_women_fatal_police_shootings <- women_fatal_police_shootings %>%
clean_names()
clean_2020_women_fatal_police_shootings <- clean_women_fatal_police_shootings
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
mutate(date=mdy(date))
clean_2020_women_fatal_police_shootings <- clean_2020_women_fatal_police_shootings %>%
filter(date<"2020-09-04") %>%
summarize(count = n())
clean_2020_women_fatal_police_shootings
read_csv("2020_sept_3_fatal-police-shootings-data.csv")
OLD_fatal_police_shootings <- read.csv("2020_sept_3_fatal-police-shootings-data")
OLD_fatal_police_shootings <- read.csv("2020_sept_3_fatal-police-shootings-data")
setwd("~/Library/CloudStorage/GoogleDrive-levtov@terpmail.umd.edu/My Drive/JOUR472/data_journalism_2023_fall/reverse engineering/Reverse-Engineering-Project")
